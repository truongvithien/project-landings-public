"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[721],{295:(e,t,r)=>{r.d(t,{J:()=>d});var n=r(5155),s=r(2115),l=r(8619),i=r(6848);let a=e=>{let{width:t=24,height:r=24,className:s=""}=e;return(0,n.jsx)("svg",{width:t,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:(0,n.jsx)("ellipse",{cx:"11.7769",cy:"11.7755",rx:"11.7769",ry:"11.7755",fill:"white"})})},u=e=>{let{width:t=32,height:r=32,className:s=""}=e;return(0,n.jsxs)("svg",{width:t,height:r,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[(0,n.jsx)("path",{d:"M14.9911 6.54236L8.44914 11.7759H3.21558V19.6263H8.44914L14.9911 24.8599L14.9911 6.54236Z",stroke:"white",strokeWidth:"2.94388",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M25.5497 6.45044C28.0025 8.90404 29.3804 12.2314 29.3804 15.7008C29.3804 19.1702 28.0025 22.4975 25.5497 24.9511M20.931 11.0691C22.1575 12.2959 22.8464 13.9595 22.8464 15.6942C22.8464 17.4289 22.1575 19.0926 20.931 20.3194",stroke:"white",strokeWidth:"2.94388",strokeLinecap:"round",strokeLinejoin:"round"})]})},o={muted:{icon:(0,n.jsx)(u,{width:16,height:16}),text:"BẬT \xc2M"},unmuted:{icon:(0,n.jsx)(u,{width:16,height:16}),text:"TẮT \xc2M"}},c=e=>{let{children:t,isMuted:r}=e,a=(0,l.d)(0),u=(0,l.d)(0),[c,d]=(0,s.useState)(!1),f=(0,s.useRef)(null),h=(0,s.useRef)(null),m=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!f.current)return;let e=()=>{f.current&&(h.current=f.current.getBoundingClientRect())},t=e=>{m.current||(m.current=requestAnimationFrame(()=>{h.current&&(a.set(e.clientX-h.current.left),u.set(e.clientY-h.current.top)),m.current=null}))},r=()=>{e(),d(!0)},n=()=>d(!1),s=f.current;return s.addEventListener("mousemove",t),s.addEventListener("mouseenter",r),s.addEventListener("mouseleave",n),e(),()=>{s.removeEventListener("mousemove",t),s.removeEventListener("mouseenter",r),s.removeEventListener("mouseleave",n),m.current&&cancelAnimationFrame(m.current)}},[a,u]),(0,n.jsxs)("div",{ref:f,className:"relative w-full h-full",children:[t,c&&(0,n.jsx)(i.P.div,{className:"fixed pointer-events-none z-[9999]",style:{left:a,top:u,translateX:"-50%",translateY:"-50%"},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:30},children:(0,n.jsxs)("div",{className:"size-20 relative",children:[(0,n.jsx)("div",{className:"size-20 left-0 top-0 absolute bg-white/30 rounded-full border border-white/50 backdrop-blur-[10.01px]"}),(0,n.jsx)("div",{className:"absolute size-full flex justify-center items-center text-white text-xs font-medium",children:o[r?"muted":"unmuted"].text})]})})]})},d=e=>{let{currentTime:t,duration:r,onProgressClick:l,onMuteClick:i,isVisible:u,isMuted:o}=e,[d,f]=(0,s.useState)(!1),h=(0,s.useRef)(null),m=e=>{let t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))};return((0,s.useEffect)(()=>()=>{h.current&&clearTimeout(h.current)},[]),u)?(0,n.jsxs)("div",{className:"absolute inset-0",onMouseEnter:()=>{f(!0),h.current&&clearTimeout(h.current)},onMouseLeave:()=>{h.current=setTimeout(()=>{f(!1)},2e3)},children:[d&&(0,n.jsx)("div",{className:"absolute h-1/5 bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-10",children:(0,n.jsx)("div",{className:"w-full px-20 py-10 inline-flex justify-start items-start gap-10",children:(0,n.jsxs)("div",{className:"flex-1 flex justify-center items-center gap-4",children:[(0,n.jsx)("div",{className:"justify-start text-white text-sm font-normal font-['Mona_Sans']",children:m(t)}),(0,n.jsxs)("div",{className:"flex-1 relative inline-flex flex-col justify-center items-start cursor-pointer",onClick:l,children:[(0,n.jsxs)("div",{className:"self-stretch h-1 relative",children:[(0,n.jsx)("div",{className:"w-full h-1 left-0 top-0 absolute bg-white/50 rounded-3xl"}),(0,n.jsx)("div",{className:"h-1 left-0 top-[-0.22px] absolute bg-white rounded-3xl transition-all duration-300",style:{width:"".concat(r>0?t/r*100:0,"%")}})]}),(0,n.jsx)("div",{className:"absolute top-[-11px] transition-all duration-300",style:{left:"".concat(r>0?t/r*100:0,"%")},children:(0,n.jsx)(a,{width:24,height:24})})]}),(0,n.jsx)("div",{className:"justify-start text-white text-sm font-normal font-['Mona_Sans']",children:m(r)})]})})}),(0,n.jsx)("div",{className:"absolute h-4/5 top-0 left-0 right-0 z-50 cursor-none",onClick:i,children:(0,n.jsx)(c,{isMuted:o,children:(0,n.jsx)("div",{className:"w-full h-full"})})})]}):null}},721:(e,t,r)=>{r.d(t,{Wz:()=>m});var n=r(5155),s=r(2115),l=r(6766),i=r(295),a=r(5705),u=r(802);let o={INITIAL_POSITION:300,INITIAL_CURTAIN_POSITION:0,TARGET_CURTAIN_POSITION:-100,SHOW_DURATION:1.2,HIDE_DURATION:.8,CURTAIN_DURATION:3.5,SHOW_EASE:"power2.out",HIDE_EASE:"power2.in",TRIGGER_THRESHOLD:.9,VIDEO_SRC:"/video/video-luongthuylinh.mp4",CURTAIN_SRC:"/curtain.png",Z_INDEX:200,CURTAIN_WIDTH:3732,CURTAIN_HEIGHT:1042},c=e=>{let{INITIAL_POSITION:t,INITIAL_CURTAIN_POSITION:r,TARGET_CURTAIN_POSITION:n,SHOW_DURATION:s,HIDE_DURATION:l,SHOW_EASE:i,HIDE_EASE:a,CURTAIN_DURATION:u}=o;return e?{section:{transform:"translateX(0%)",duration:s,ease:i},curtain:{transform:"translateX(0%)",duration:u,ease:i},curtainFinal:{transform:"translateX(".concat(n,"%)"),duration:.8,ease:"power2.inOut",delay:.6}}:{section:{transform:"translateX(".concat(t,"%)"),duration:l,ease:a,delay:.6},curtain:{transform:"translateX(".concat(r,"%)"),duration:l,ease:a}}},d=()=>{let{INITIAL_POSITION:e,INITIAL_CURTAIN_POSITION:t,Z_INDEX:r}=o;return{section:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:r,transform:"translateX(".concat(e,"%)")},curtain:{transform:"translateX(".concat(t,"%)")}}},f=e=>{let t=(0,s.useRef)(null),r=(0,s.useRef)(null),[n,l]=(0,s.useState)(!1),[i,f]=(0,s.useState)(!1),h=(0,a.x)();return(0,s.useEffect)(()=>{if(!t.current||!r.current)return;let e=d();u.os.set(t.current,e.section),u.os.set(r.current,e.curtain)},[]),(0,s.useEffect)(()=>{if(!t.current||!r.current)return;let e=c(i),n=u.os.timeline();i?(n.to(t.current,e.section).to(r.current,e.curtain,0),e.curtainFinal&&n.to(r.current,e.curtainFinal,0)):n.to(t.current,e.section).to(r.current,e.curtain,0),l(i)},[i]),(0,s.useEffect)(()=>{f(e)},[e]),(0,s.useEffect)(()=>{if(!h)return;let e=e=>{let t=e.scroll,r=window.innerHeight*o.TRIGGER_THRESHOLD;t>=r&&!i?f(!0):t<r&&i&&f(!1)};return h.on("scroll",e),()=>{h.off("scroll",e)}},[h,i]),{sectionRef:t,curtainRef:r,isVisible:n,shouldShowVideo:i}},h=e=>{let t=(0,s.useRef)(null),[r,n]=(0,s.useState)(0),[l,i]=(0,s.useState)(0),[a,u]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=t.current;if(!e)return;let r=()=>{e.muted=!0,e.play().catch(()=>{})};return e.addEventListener("ended",r),()=>{e.removeEventListener("ended",r)}},[e]),(0,s.useEffect)(()=>{t.current&&(t.current.muted=!0,t.current.play().catch(()=>{}))},[e]),(0,s.useEffect)(()=>{let e=t.current;if(!e)return;let r=()=>{n(e.currentTime)},s=()=>{i(e.duration)};return e.addEventListener("timeupdate",r),e.addEventListener("loadedmetadata",s),()=>{e.removeEventListener("timeupdate",r),e.removeEventListener("loadedmetadata",s)}},[]),{videoRef:t,currentTime:r,duration:l,isMuted:a,handleProgressClick:e=>{let r=t.current;if(!r)return;let n=e.currentTarget.getBoundingClientRect(),s=(e.clientX-n.left)/n.width*r.duration;r.currentTime=s},handleMuteClick:()=>{t.current&&(t.current.muted=!t.current.muted,u(!t.current.muted))}}},m=e=>{let{shouldShow:t=!1}=e,{sectionRef:r,curtainRef:s,isVisible:a}=f(t),{videoRef:u,currentTime:c,duration:d,isMuted:m,handleProgressClick:v,handleMuteClick:x}=h(a);return(0,n.jsx)("section",{ref:r,className:"video-thuylinh-section h-screen w-full",style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",transform:"translateX(".concat(o.INITIAL_POSITION,"%)"),zIndex:o.Z_INDEX},children:(0,n.jsxs)("div",{className:"relative w-full h-full bg-black",children:[(0,n.jsxs)("video",{ref:u,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"auto",children:[(0,n.jsx)("source",{src:o.VIDEO_SRC,type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,n.jsx)(i.J,{currentTime:c,duration:d,onProgressClick:v,isVisible:a,isMuted:m,onMuteClick:x}),(0,n.jsx)("div",{ref:s,className:"absolute top-0 left-[-100%] h-full pointer-events-none",children:(0,n.jsx)(l.default,{src:o.CURTAIN_SRC,alt:"Curtain",width:o.CURTAIN_WIDTH,height:o.CURTAIN_HEIGHT,className:"h-full w-auto"})})]})})}}}]);