(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{3748:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var o=r(5155);r(2115);var t=r(4992),a=r(1972),i=r(290);function n(){let{isLoading:e,progress:s,message:r,startLoading:n,updateProgress:l,finishLoading:d,handleComplete:c}=(0,t.v)(),{isPreloading:m,progress:g,message:p,results:u,preloadAssetsWithProgress:x}=(0,a.m$)(),h=[{url:"/logo.svg",type:"image",priority:"high"},{url:"/video/video-lotus.mp4",type:"video",priority:"high"},{url:"/ring.fbx",type:"model",priority:"high"},{url:"/blossom/blossom.lottie",type:"json",priority:"medium"},{url:"/collection/collection-item-1-thumbnail.jpg",type:"image",priority:"medium"},{url:"/collection/collection-item-2-thumbnail.jpg",type:"image",priority:"medium"},{url:"/collection/collection-item-3-thumbnail.jpg",type:"image",priority:"medium"},{url:"/woman/woman-model.png",type:"image",priority:"low"},{url:"/woman/woman-bottom.png",type:"image",priority:"low"},{url:"/making/making-diamond.png",type:"image",priority:"low"}],y=async()=>{try{n({initialMessage:"Preparing to load assets..."}),await x({assets:h}),l({progress:g,message:p}),d()}catch(e){l({progress:100,message:"Failed to load some assets"}),d()}},b=async()=>{n({initialMessage:"Simulating asset preloading..."});let e=0;for(let s of[{type:"3D Models",duration:1500,progress:20},{type:"Textures",duration:1200,progress:40},{type:"Videos",duration:2e3,progress:60},{type:"Images",duration:800,progress:80},{type:"Audio",duration:600,progress:95}])l({progress:e,message:"Loading ".concat(s.type,"...")}),await new Promise(e=>setTimeout(e,s.duration)),e=s.progress;l({progress:100,message:"All assets loaded successfully!"}),setTimeout(()=>d(),500)};return(0,o.jsxs)("div",{className:"min-h-screen bg-background p-8",children:[(0,o.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,o.jsxs)("div",{className:"text-center space-y-4",children:[(0,o.jsx)("h1",{className:"text-4xl font-bold text-foreground",children:"Asset Preloader Demo"}),(0,o.jsx)("p",{className:"text-lg text-muted-foreground",children:"Test asset preloading with the loading screen components"})]}),(0,o.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 space-y-4",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold text-foreground",children:"Preload Controls"}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,o.jsx)(i.$,{onClick:y,disabled:e||m,variant:"primary",children:"Preload Real Assets"}),(0,o.jsx)(i.$,{onClick:b,disabled:e||m,variant:"secondary",children:"Simulated Preload"})]}),(0,o.jsxs)("div",{className:"mt-6",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Assets to Preload"}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:h.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[(0,o.jsx)("span",{className:"text-muted-foreground",children:e.url}),(0,o.jsx)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:e.priority})]},s))})]}),m&&(0,o.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[(0,o.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Preload Status"}),(0,o.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,o.jsxs)("p",{children:["Progress: ",Math.round(g),"%"]}),(0,o.jsxs)("p",{children:["Message: ",p]}),(0,o.jsxs)("p",{children:["Results: ",u.length," assets processed"]})]})]})]}),u.length>0&&(0,o.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 space-y-4",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold text-foreground",children:"Preload Results"}),(0,o.jsx)("div",{className:"space-y-2",children:u.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(e.success?"bg-green-500":"bg-red-500")}),(0,o.jsx)("span",{className:"text-sm",children:e.url})]}),(0,o.jsx)("div",{className:"text-xs text-muted-foreground",children:e.success?(0,o.jsxs)("span",{children:["✓ ",e.duration,"ms"]}):(0,o.jsxs)("span",{children:["✗ ",e.error]})})]},s))})]}),(0,o.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 space-y-4",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold text-foreground",children:"Integration Example"}),(0,o.jsx)("pre",{className:"bg-muted p-4 rounded text-xs overflow-x-auto",children:"import { LoadingScreenGSAP, useLoadingScreenGSAP } from '@/components/ui/loading-screen-gsap';\nimport { useAssetPreloader, AssetConfig } from '@/lib/utils/asset-preloader';\n\nconst MyComponent = () => {\n  const { startLoading, updateProgress, finishLoading } = useLoadingScreenGSAP();\n  const { preloadAssetsWithProgress } = useAssetPreloader();\n\n  const assets: AssetConfig[] = [\n    { url: '/hero-image.jpg', type: 'image', priority: 'high' },\n    { url: '/video.mp4', type: 'video', priority: 'medium' },\n    { url: '/model.glb', type: 'model', priority: 'low' },\n  ];\n\n  const handlePreload = async () => {\n    startLoading({ initialMessage: 'Loading assets...' });\n    \n    try {\n      const results = await preloadAssetsWithProgress({ assets });\n      finishLoading();\n    } catch (error) {\n              // console.error('Preload failed:', error);\n      finishLoading();\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={handlePreload}>Preload Assets</button>\n      {/* Loading screen will show automatically */}\n    </div>\n  );\n};"})]})]}),e&&(0,o.jsx)(t.q,{progress:s,message:r,showProgress:!0,onComplete:c})]})}},7051:(e,s,r)=>{Promise.resolve().then(r.bind(r,3748))}},e=>{var s=s=>e(e.s=s);e.O(0,[592,802,874,244,441,684,358],()=>s(7051)),_N_E=e.O()}]);